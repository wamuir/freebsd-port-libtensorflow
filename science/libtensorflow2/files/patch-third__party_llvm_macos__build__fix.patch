--- third_party/llvm/macos_build_fix.patch.orig	2021-10-08 21:43:19 UTC
+++ third_party/llvm/macos_build_fix.patch
@@ -25,3 +25,21 @@ index ff64df694048..55f3077bff74 100644
 -- 
 2.33.0.685.g46640cef36-goog
 
+diff --git a/utils/bazel/llvm-project-overlay/llvm/BUILD.bazel b/utils/bazel/llvm-project-overlay/llvm/BUILD.bazel
+--- a/utils/bazel/llvm-project-overlay/llvm/BUILD.bazel
++++ b/utils/bazel/llvm-project-overlay/llvm/BUILD.bazel
+@@ -205,6 +205,14 @@
+     includes = ["include"],
+     linkopts = select({
+         "@bazel_tools//src/conditions:windows": [],
++        "@bazel_tools//src/conditions:freebsd": [
++            "-pthread",
++            "-ldl",
++            "-lm",
++            # CMake adds link flag to BSD backtrace library at
++            # llvm-project/llvm/lib/Support/CMakeLists.txt@45
++            "-lexecinfo",
++        ],
+         "//conditions:default": [
+             "-pthread",
+             "-ldl",
